{
  "arlas": {
    "web": {
      "contributors": [
        {
          "type":"histogram",
          "identifier": "timeline",
          "aggregationmodels": [
            {
              "type": "datehistogram",
              "field": "position.timestamp",
              "interval": {
                "value": 30,
                "unit": "minute"
              }
            }
          ],
          "numberOfBuckets": 100,
          "name": "Timeline",
          "icon": "watch_later",
          "isOneDimension": false
        },
        {
          "type": "detailedhistogram",
          "identifier": "detailedTimeline",
          "annexedContributorId": "timeline",
          "selectionExtentPercentage": 0.02,
          "aggregationmodels": [
            {
              "type": "datehistogram",
              "field": "position.timestamp",
              "interval": {
                "value": 30,
                "unit": "minute"
              }
            }
          ],
          "numberOfBuckets": 100,
          "name": "Timeline",
          "icon": "watch_later",
          "isOneDimension": false
        },
        {
          "type": "map",
          "identifier": "mapbox",
          "geo_query_field": "position.location",
          "geo_query_op": "Intersects",
          "name": "map",
          "icon": "check_box_outline_blank",
          "layers_sources" : [
            {
              "id": "Grid",
              "source": "cluster-position.location-Fine-geohash",
              "minzoom": 0,
              "maxzoom": 24,
              "minfeatures": 10000,
              "agg_geo_field": "position.location",
              "aggregated_geometry": "geohash",
              "granularity": "Fine",
              "metrics": [
                {
                  "field": "count",
                  "metric": "count",
                  "normalize": true
                }
              ]
            },
            {
              "id": "Heatmap",
              "source": "cluster-position.location-Fine-centroid",
              "minzoom": 0,
              "maxzoom": 24,
              "minfeatures": 10000,
              "agg_geo_field": "position.location",
              "aggregated_geometry": "centroid",
              "granularity": "Fine",
              "metrics": [
                {
                  "field": "count",
                  "metric": "count",
                  "normalize": true
                }
              ]
            },
            {
              "id": "Boats positions (Speed)",
              "source": "feature-position.location",
              "minzoom": 0,
              "maxzoom": 24,
              "maxfeatures": 5000,
              "returned_geometry": "position.location",
              "include_fields": ["course.sog"]
            },
            {
              "id": "Boats positions (Ship type)",
              "source": "feature-position.location",
              "minzoom": 0,
              "maxzoom": 24,
              "maxfeatures": 5000,
              "returned_geometry": "position.location",
              "include_fields": ["vessel.ship_type"]
            },
            {
              "id": "Boats fragments (Speed)",
              "source": "feature-course.segment.geometry.geometry",
              "minzoom": 0,
              "maxzoom": 24,
              "maxfeatures": 5000,
              "returned_geometry": "course.segment.geometry.geometry",
              "include_fields": ["course.sog"]
            },
            {
              "id": "Boats fragments (Ship type)",
              "source": "feature-course.segment.geometry.geometry",
              "minzoom": 0,
              "maxzoom": 24,
              "maxfeatures": 5000,
              "returned_geometry": "course.segment.geometry.geometry",
              "include_fields": ["vessel.ship_type"]
            }
          ],
          "search_size": 10000
        },
        {
          "type": "chipssearch",
          "identifier": "chipssearch",
          "search_size": 100,
          "search_field": "internal.fulltext",
          "name": "Search",
          "icon": "search"
        }
      ],
      "components": {
        "share": {
          "geojson": {
            "max_for_feature": 10000,
            "max_for_cluster": 100000,
            "agg_field": "position.location",
            "sort_excluded_type": [
                "TEXT",
                "GEO_POINT"
            ]
          }
        },
        "mapgl": {
          "input": {
            "defaultBasemapStyle": {
              "name": "Positron",
              "styleFile": "http://demo.arlas.io:82/styles/positron/style.json"
            },
            "basemapStyles": [
              {
                "name": "Positron",
                "styleFile": "http://demo.arlas.io:82/styles/positron/style.json"
              }
            ],
            "margePanForLoad": 5,
            "margePanForTest": 5,
            "initZoom": 2,
            "initCenter": [
              9.667969,
              55.627996
            ],
            "displayScale": true,
            "visualisations_sets": [
              {
                "name": "Boats positions distribution",
                "layers": ["Grid"],
                "enabled": true
              },
              {
                "name": "Boats positions density",
                "layers": ["Heatmap"],
                "enabled": false
              },
              {
                "name": "Boats positions by speed",
                "layers": ["Boats positions (Speed)", "Boats fragments (Speed)"],
                "enabled": true
              },
              {
                "name": "Boats positions by ship type",
                "layers": ["Boats positions (Ship type)", "Boats fragments (Ship type)"],
                "enabled": false
              }
            ],
            "mapLayers": {
              "layers": [],
              "events": {
                "zoomOnClick": [
                ],
                "emitOnClick": [
                ],
                "onHover": [
                ]
              }
            },
            "idFeatureField": "id"
          }
        },
        "timeline": {
          "contributorId": "timeline",
          "componentType": "histogram",
          "input": {
            "id": "histogram-timeline",
            "xTicks": 9,
            "yTicks": 2,
            "xLabels": 9,
            "yLabels": 2,
            "chartTitle": "Number of AIS positions over time",
            "customizedCssClass": "arlas-timeline",
            "chartHeight": 128,
            "multiselectable": true,
            "brushHandlesHeightWeight": 0.8,
            "dataType": "time",
            "isHistogramSelectable": true,
            "chartType": "area",
            "chartWidth": null,
            "xAxisPosition": "bottom",
            "descriptionPosition": "top",
            "showXTicks": true,
            "showYTicks": true,
            "showXLabels": true,
            "showYLabels": true,
            "showHorizontalLines": false,
            "isSmoothedCurve": true,
            "barWeight": 0.8,
            "topOffsetRemoveInterval": 10,
            "yAxisStartsFromZero": true
          }
        },
        "detailedTimeline": {
          "contributorId": "detailedTimeline",
          "componentType": "histogram",
          "input": {
            "id": "histogram-detailed-timeline",
            "xTicks": 5,
            "yTicks": 2,
            "xLabels": 5,
            "yLabels": 2,
            "chartTitle": "Detailed of AIS positions over time",
            "customizedCssClass": "arlas-detailed-timeline",
            "chartHeight": 60,
            "multiselectable": true,
            "brushHandlesHeightWeight": 0.8,
            "dataType": "time",
            "isHistogramSelectable": true,
            "ticksDateFormat": "%b %d %Y  %H:%M",
            "chartType": "area",
            "chartWidth": null,
            "xAxisPosition": "top",
            "yAxisStartsFromZero": true,
            "descriptionPosition": "bottom",
            "showXTicks": true,
            "showYTicks": true,
            "showXLabels": true,
            "showYLabels": true,
            "showHorizontalLines": false,
            "isSmoothedCurve": true,
            "barWeight": 0.8
          }
        }
      },
      "colorGenerator": {
        "keysToColors": [["Tanker", "#ff8ee8"], ["Fishing", "#7AD8F5"],
        ["Tug", "#f4df42"], ["SAR", "#03c6ac"], ["OTHER", "#c2c2c2"],
        ["Other", "#c2c2c2"], ["Undefined", "#c2c2c2"], ["Category X", "#eab738"],
        ["Category Y", "#ead538"], ["Category Z", "#ea8538"], ["Category OS", "#ed29d5"],
        ["Pilot", "#e74b4b"], ["HSC", "#0086bd"], ["Law enforcement", "#00b4d3"],
        ["Military", "#a625e0"], ["Cargo", "#0099ff"], ["Passenger", "#a5c176"], ["Dredging", "#51a588"],
        ["Anti-pollution", "#00f4d0"], ["Pleasure", "#ad0084"], ["Towing", "#d37700"], ["Towing long/wide", "#d37700"],
        ["Sailing", "#edc77b"],["Under way using engine", "#51a588"], ["Unknown value", "#c2c2c2"],
        ["Engaged in fishing", "#86d8f7"], ["Moored", "#eab738"], ["Reserved for future amendment [HSC]", "#0086bd"],
        ["Under way sailing", "#ad0084"]],
        "colorsSaturationWeight": 0.6
      }
    },
    "server": {
      "url": "http://localhost:9999/arlas",
      "collection": {
        "name": "demo_ais-danmark"
      },
      "max_age_cache": 120
    }
  },
  "arlas-wui": {
    "web": {
      "app": {
        "idFieldName": "id",
        "refresh": false,
        "components": {
          "chipssearch": {
            "search_size": 100,
            "name": "Search a MMSI",
            "icon": "search",
            "autocomplete_field": "vessel.mmsi",
            "autocomplete_size": "20"
          }
        }
      }
    }
  },
  "extraConfigs": [
    {
      "configPath": "config.map.json",
      "replacedAttribute": "arlas.web.components.mapgl.input.mapLayers.layers",
      "replacer": "layers"
    }
  ]
}
