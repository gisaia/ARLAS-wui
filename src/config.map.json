{
  "layers": [
    {
      "id": "cluster-rect-fill",
      "type": "fill",
      "source": "data_source",
      "layout": {
        "visibility": "visible"
      },
      "paint": {
        "fill-color": {
          "property": "point_count_normalize",
          "type": "exponential",
          "stops": [
            [
              0,
              "#36a996"
            ],
            [
              20,
              "#3683a9"
            ],
            [
              40,
              "#3649a9"
            ],
            [
              60,
              "#5c36a9"
            ],
            [
              80,
              "#9636a9"
            ],
            [
              100,
              "#a93683"
            ]
          ]
        },
        "fill-opacity": 0.7
      },
      "filter":  [
        "==",
        "feature_type",
        "aggregation"
      ]
    },
    {
      "id": "cluster-heat",
      "type": "heatmap",
      "source": "data_source",
      "layout": {
        "visibility": "visible"
      },
      "filter": [
        "all",
        [
          "==",
          "feature_type",
          "aggregation"
        ],
        [
          "==",
          "$type",
          "Point"
        ]
      ],
      "paint": {
        "heatmap-weight": [
          "interpolate",
          [
            "linear"
          ],
          [
            "get",
            "point_count_normalize"
          ],
          0,
          0,
          100,
          1
        ],
        "heatmap-intensity": 3,
        "heatmap-color": [
          "interpolate",
          [
            "exponential", 10
          ],
          [
            "heatmap-density"
          ],
          0,
          "rgb(33,102,172)",
          0.2,
          "rgb(103,169,207)",
          0.4,
          "rgb(209,229,240)",
          0.6,
          "rgb(253,219,199)",
          0.8,
          "rgb(239,138,98)",
          1,
          "rgb(178,24,43)"
        ],
        "heatmap-radius": 50,
        "heatmap-opacity": 0.6
      }
    },
    {
      "id": "features-symbol",
      "type": "symbol",
      "source": "data_source",
      "layout": {
        "icon-image": "monument-11",
        "icon-allow-overlap": true,
        "icon-rotate": [
          "interpolate",
          [
            "linear"
          ],
          [
            "get",
            "cours_heading"
          ],
          0,
          0,
          360,
          360
        ]
      },
      "filter": [
        "all",
        [
          "!has",
          "point_count"
        ],
        [
          "==",
          "$type",
          "Point"
        ]
      ]
    },
    {
      "id": "features-point",
      "type": "circle",
      "source": "data_source",
      "filter": [
        "all",
        [
          "!has",
          "point_count"
        ],
        [
          "==",
          "$type",
          "Point"
        ]
      ],
      "paint": {
        "circle-color": [
          "interpolate",
          [
            "linear"
          ],
          [
            "get",
            "course_sog"
          ],
          0,
          "#36a996",
          5,
          "#3683a9",
          10,
          "#3649a9",
          15,
          "#5c36a9",
          20,
          "#9636a9",
          25,
          "#a93683"
        ],
        "circle-opacity": 1
      }
    },
    {
      "id": "features-point-ship-type",
      "type": "circle",
      "source": "data_source",
      "filter": [
        "all",
        [
          "!has",
          "point_count"
        ],
        [
          "==",
          "$type",
          "Point"
        ]
      ],
      "paint": {
        "circle-color": {
          "property": "vessel_ship_type",
          "type": "categorical",
          "stops": [["Tanker", "#ff8ee8"], ["Fishing", "#86d8f7"],
          ["Tug", "#f4df42"], ["SAR", "#03c6ac"], ["OTHER", "#c2c2c2"],
          ["Other", "#c2c2c2"], ["Undefined", "#c2c2c2"], ["Category X", "#eab738"],
          ["Category Y", "#ead538"], ["Category Z", "#ea8538"], ["Category OS", "#ed29d5"],
          ["Pilot", "#e74b4b"], ["HSC", "#0086bd"], ["Law enforcement", "#00b4d3"],
          ["Military", "#a625e0"], ["Cargo", "#62e950"], ["Passenger", "#a5c176"]
        ]
      },
      "circle-opacity": 1
    }
  },
  {
    "id": "feature-line-ship-type",
    "source": "data_source",
    "paint": {
      "line-color": {
        "property": "vessel_ship_type",
        "type": "categorical",
        "stops": [["Tanker", "#ff8ee8"], ["Fishing", "#86d8f7"],
        ["Tug", "#f4df42"], ["SAR", "#03c6ac"], ["OTHER", "#c2c2c2"],
        ["Other", "#c2c2c2"], ["Undefined", "#c2c2c2"], ["Category X", "#eab738"],
        ["Category Y", "#ead538"], ["Category Z", "#ea8538"], ["Category OS", "#ed29d5"],
        ["Pilot", "#e74b4b"], ["HSC", "#0086bd"], ["Law enforcement", "#00b4d3"],
        ["Military", "#a625e0"], ["Cargo", "#62e950"], ["Passenger", "#a5c176"]
      ]
    },
    "line-opacity": 1,
    "line-width": 4
  },
  "type": "line",
  "filter": [
    "all",
    [
      "==",
      "feature_type",
      "hit"
    ]
  ],
  "layout": {
    "line-cap": "round",
    "line-join": "round"
  }
},
{
  "id": "feature-line",
  "source": "data_source",
  "paint": {
    "line-color": [
      "interpolate",
      [
        "linear"
      ],
      [
        "get",
        "course_sog"
      ],
      0,
      "#36a996",
      5,
      "#3683a9",
      10,
      "#3649a9",
      15,
      "#5c36a9",
      20,
      "#9636a9",
      25,
      "#a93683"
    ],
    "line-opacity": 1,
    "line-width": 4
  },
  "type": "line",
  "filter": [
    "all",
    [
      "==",
      "feature_type",
      "hit"
    ]
  ],
  "layout": {
    "line-cap": "round",
    "line-join": "round"
  }
},
{
  "id": "features-line-select",
  "type": "line",
  "source": "data_source",
  "layout": {
    "visibility": "none"
  },
  "filter": [
    "all",
    [
      "!=",
      "$type",
      "Point"
    ]
  ],
  "paint": {
    "line-color": "#80CBC4",
    "line-opacity": 1,
    "line-width": 6
  }
},
{
  "id": "features-fill-hover",
  "type": "line",
  "source": "data_source",
  "layout": {
    "visibility": "none"
  },
  "filter": [
    "all",
    [
      "!=",
      "$type",
      "Point"
    ]
  ],
  "paint": {
    "line-color": "#80CBC4",
    "line-opacity": 1,
    "line-width": 6
  }
},
{
  "id": "geobox",
  "type": "line",
  "source": "geobox",
  "layout": {
    "visibility": "visible"
  },
  "paint": {
    "line-color": "#5c36a9",
    "line-opacity": 1,
    "line-width": 2
  }
}
]
}
