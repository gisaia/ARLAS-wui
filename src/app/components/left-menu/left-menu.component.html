<div class="menu_container" [class.hide-label]="!isLabelDisplayed">
  <mat-nav-list>
    <mat-list-item *ngIf="persistenceService.isAvailable" (click)="show('configs')"
      [class.active-menu]="!!toggleStates.configs" matTooltip="{{'Switch dashboard' | translate}}">
      <button mat-icon-button>
        <mat-icon>apps</mat-icon>
      </button>
    </mat-list-item>
  </mat-nav-list>
  <mat-divider></mat-divider>
  <arlas-analytics-menu [showIndicators]="showIndicators"></arlas-analytics-menu>
  <mat-divider></mat-divider>
  <button mat-icon-button class="arlas-analytics-refresh" [hidden]="!isRefreshAnalyticsButton" (click)="refreshComponents()"
    matTooltip="{{'Refresh components' | translate}}">
    <mat-icon>refresh</mat-icon>
  </button>
  <div class="action-list">
    <arlas-tool-link></arlas-tool-link>
    <mat-divider *ngIf="shareComponentConfig || downloadComponentConfig || tagComponentConfig"></mat-divider>
    <mat-nav-list>
      <mat-list-item *ngIf="shareComponentConfig" matTooltip="{{'Share geographical data' | translate}}"
        (click)="displayShare()">
        <button mat-icon-button>
          <mat-icon>share</mat-icon>
        </button>
      </mat-list-item>
      <mat-list-item *ngIf="downloadComponentConfig" (click)="displayDownload()"
        matTooltip="{{ 'Download data' | translate }}">
        <button mat-icon-button>
          <mat-icon>get_app</mat-icon>
        </button>
      </mat-list-item>
      <mat-list-item *ngIf="tagComponentConfig" [matMenuTriggerFor]="tagMenu" matTooltip="{{ 'Tag data' | translate }}">
        <button mat-icon-button>
          <mat-icon>local_offer</mat-icon>
        </button>
      </mat-list-item>
    </mat-nav-list>
    <mat-divider></mat-divider>
    <mat-nav-list>
      <mat-list-item *ngIf="this.walkthroughService.isActivable" (click)="replayTour()"
        matTooltip="{{ 'Replay tour' | translate }}">
        <button mat-icon-button>
          <mat-icon>slideshow</mat-icon>
        </button>
      </mat-list-item>
    </mat-nav-list>
  </div>
</div>
<arlas-share #share [icon]="'share'" [hidden]="true"></arlas-share>
<arlas-download #download [collections]="collections" [hidden]="true"></arlas-download>
<arlas-tag #tag></arlas-tag>
<mat-menu #tagMenu="matMenu">
  <button mat-menu-item (click)="displayTag()">
    <mat-icon>add_circle_outline</mat-icon>
    <span>{{ 'Add' | translate }}</span>
  </button>
  <button mat-menu-item (click)="displayTagManagement()">
    <mat-icon>replay</mat-icon>
    <span>{{ 'Replay' | translate }}</span>
  </button>
</mat-menu>